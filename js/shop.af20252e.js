(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop"],{"0fa5":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{id:"shop"}},[r("v-card",{staticClass:"d-flex flex-column justify-end my-3",attrs:{flat:"",tile:""}},[r("v-img",{staticClass:"pa-15 d-flex align-end",attrs:{src:a("1771")("./"+t.categorypic),"max-height":"500"}},[t.title.length>0?r("p",{staticClass:"white--text ct-font",class:{"b-text":"滑雪"===t.title||"女生"===t.title}},[t._v(t._s(t.title))]):t._e()])],1),this.$store.state.product.searchBar.length>0?r("h2",{staticClass:"text-center mb-4 grey--text text--darken-1"},[t._v("共 "+t._s(this.$store.state.product.keywords.length)+" 筆搜尋結果"),r("v-icon",{attrs:{"x-large":"",right:""}},[t._v("mdi-magnify")])],1):t._e(),r("v-row",[t._l(t.keywords,(function(e){return t.searchBar.length>0?r("v-col",{key:e._id,staticClass:"pa-5",attrs:{cols:"12",md:"6",lg:"3"}},[t.loading?r("v-skeleton-loader",{attrs:{type:"card",loading:t.loading,transition:"fade-transition"}}):r("ProductCard",{attrs:{product:e}})],1):t._e()})),t._l(t.products,(function(e){return 0===t.searchBar.length?r("v-col",{key:e._id,staticClass:"pa-5",attrs:{cols:"12",md:"6",lg:"3"}},[t.loading?r("v-skeleton-loader",{attrs:{type:"card",loading:t.loading,transition:"fade-transition",height:"300"}}):r("ProductCard",{attrs:{product:e}})],1):t._e()}))],2)],1)},i=[],n=a("1da1"),s=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"card-product",attrs:{to:"/product/"+t.product._id,flat:""}},[a("v-img",{attrs:{src:t.waiting,height:"330",contain:""}})],1),a("div",{staticClass:"d-flex justify-center"},t._l(t.product.image,(function(e){return a("v-card",{key:e.id,staticClass:"my-2",class:{"mx-1":t.product.image.length<6},attrs:{flat:""},on:{click:function(a){return t.changesrc(e)}}},[a("v-img",{attrs:{src:e,width:"45",height:"55",contain:""}})],1)})),1),a("router-link",{staticClass:"text-truncate w-100 d-flex flex-column align-center black--text text-decoration-none mb-2",attrs:{to:"/product/"+t.product._id}},[a("h4",{staticClass:"text-center pcardtext w-100 text-truncate"},[t._v(t._s(t.product.name))]),a("span",{staticClass:"text-truncate text-center w-100"},[t._v(t._s(t.product.description))])]),a("h4",{staticClass:"text-center mb-2"},[t._v(t._s(t.product.category))]),a("h4",{staticClass:"text-center maincolor--text text-subtitle-1 font-weight-bold"},[t._v(t._s("$"+t.product.price))])],1)}),o=[],c={props:{product:{type:Object,required:!0}},data:function(){return{waiting:""}},methods:{changesrc:function(t){this.waiting=t}},created:function(){this.waiting=this.product.image[0]}},l=c,d=a("2877"),u=a("6544"),p=a.n(u),g=a("b0af"),h=a("adda"),f=Object(d["a"])(l,s,o,!1,null,null,null),y=f.exports;p()(f,{VCard:g["a"],VImg:h["a"]});var m={name:"Shop",components:{ProductCard:y},data:function(){return{products:[],title:"",loading:!0,loaded:!1,categorypic:""}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,r,i,n,s,o,c,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/products/cate/"+t.$route.params.id);case 3:if(a=e.sent,r=a.data,"購物商城"!==r.category){e.next=14;break}return e.next=8,t.api.get("/products");case 8:return i=e.sent,n=i.data,t.products=n.result,t.title=r.category,t.categorypic="category-01.jpg",e.abrupt("return");case 14:if("男生"!==r.gender){e.next=23;break}return e.next=17,t.api.get("/products/male");case 17:return s=e.sent,o=s.data,t.products=o.result,t.title=r.gender,t.categorypic="category-04.jpg",e.abrupt("return");case 23:if("女生"!==r.gender){e.next=32;break}return e.next=26,t.api.get("/products/female");case 26:return c=e.sent,l=c.data,t.products=l.result,t.title=r.gender,t.categorypic="category-06.jpg",e.abrupt("return");case 32:t.title=r.category,t.products=r.result,d=function e(){"complete"===document.readyState&&(t.loading=!1,t.loaded=!0,document.removeEventListener("readystatechange",e))},document.addEventListener("readystatechange",d),d(),"購物商城"===t.title&&(t.categorypic="category-01.jpg"),"登山健行"===t.title&&(t.categorypic="category-02.jpg"),"滑雪"===t.title&&(t.categorypic="category-03.jpg"),"外套"===t.title&&(t.categorypic="category-05.jpg"),"露營"===t.title&&(t.categorypic="category-07.jpg"),e.next=47;break;case 44:e.prev=44,e.t0=e["catch"](0),t.$swal({icon:"error",title:"錯誤",text:"商品取得失敗"});case 47:case"end":return e.stop()}}),e,null,[[0,44]])})))()},methods:{},computed:{keywords:function(){return this.$store.state.product.keywords},searchBar:function(){return this.$store.state.product.searchBar}},mounted:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1}),2e3)}},v=m,b=a("62ad"),x=a("a523"),_=a("132d"),k=a("0fd9"),w=a("3835"),C=a("5530"),S=(a("ac1f"),a("1276"),a("d81d"),a("a630"),a("3ca3"),a("5319"),a("1f09"),a("c995")),j=a("24b2"),B=a("7560"),O=a("58df"),$=a("80d2"),L=Object(O["a"])(S["a"],j["a"],B["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:function(){return{}}}},computed:{attrs:function(){return this.isLoading?this.boilerplate?{}:Object(C["a"])({"aria-busy":!0,"aria-live":"polite",role:"alert"},this.$attrs):this.$attrs},classes:function(){return Object(C["a"])(Object(C["a"])({"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile},this.themeClasses),this.elevationClasses)},isLoading:function(){return!("default"in this.$scopedSlots)||this.loading},rootTypes:function(){return Object(C["a"])({actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text"},this.types)}},methods:{genBone:function(t,e){return this.$createElement("div",{staticClass:"v-skeleton-loader__".concat(t," v-skeleton-loader__bone")},e)},genBones:function(t){var e=this,a=t.split("@"),r=Object(w["a"])(a,2),i=r[0],n=r[1],s=function(){return e.genStructure(i)};return Array.from({length:n}).map(s)},genStructure:function(t){var e=[];t=t||this.type||"";var a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton:function(){var t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object($["t"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones:function(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter:function(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave:function(t){t.style.setProperty("display","none","important")},resetStyles:function(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render:function(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}}),E=Object(d["a"])(v,r,i,!1,null,null,null);e["default"]=E.exports;p()(E,{VCard:g["a"],VCol:b["a"],VContainer:x["a"],VIcon:_["a"],VImg:h["a"],VRow:k["a"],VSkeletonLoader:L})},"1f09":function(t,e,a){}}]);
//# sourceMappingURL=shop.af20252e.js.map